{{define "admin/navbar"}}

{{$currentMemberships := .currentMemberships}}

<header class="mb-3">
  <div href="/" class="d-block px-3 py-2 text-center text-bold text-white admin-header">
    System admin
  </div>

  <nav class="nav nav-tabs navbar-expand-md navbar-light bg-light">
    <div class="container">
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navigation" aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navigation">
        <ul class="navbar-nav me-auto">
          <li class="nav-item">
            {{if hasOne $currentMemberships}}
              <a class="nav-link" href="/codes/issue">
                &larr; Back to {{(index $currentMemberships 0).Realm.Name}}
              </a>
            {{else if hasMany $currentMemberships}}
              <a class="nav-link" href="/login/select-realm">
                &larr; Back to realm selection
              </a>
            {{end}}
          </li>
        </ul>

        {{template "navdropdown" .}}
      </div>
    </div>
  </nav>
</header>

<ul class="nav nav-pills justify-content-center mb-3">
  <li class="nav-item">
    <a class="nav-link{{if .currentPath.IsDir "/admin/realms"}} active{{end}}" id="realms" href="/admin/realms">Realms</a>
  </li>

  <li class="nav-item">
    <a class="nav-link{{if .currentPath.IsDir "/admin/users"}} active{{end}}" href="/admin/users">Users</a>
  </li>

  <li class="nav-item">
    <a class="nav-link{{if .currentPath.IsDir "/admin/user-report"}} active{{end}}" href="/admin/user-report">User report</a>
  </li>

  <li class="nav-item">
    <a class="nav-link{{if .currentPath.IsDir "/admin/mobile-apps"}} active{{end}}" href="/admin/mobile-apps">Mobile apps</a>
  </li>

  <li class="nav-item">
    <a class="nav-link{{if .currentPath.IsDir "/admin/sms"}} active{{end}}" href="/admin/sms">SMS</a>
  </li>

  <li class="nav-item">
    <a class="nav-link{{if .currentPath.IsDir "/admin/email"}} active{{end}}" href="/admin/email">Email</a>
  </li>

  <li class="nav-item">
    <a class="nav-link{{if .currentPath.IsDir "/admin/events"}} active{{end}}" href="/admin/events">Events</a>
  </li>

  <li class="nav-item">
    <a class="nav-link{{if .currentPath.IsDir "/admin/caches"}} active{{end}}" href="/admin/caches">Caches</a>
  </li>

  <li class="nav-item">
    <a class="nav-link{{if .currentPath.IsDir "/admin/info"}} active{{end}}" href="/admin/info">Info</a>
  </li>
</ul>
{{end}}
